<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/paper-item/paper-icon-item.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-item/paper-item-body.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="style.html">

<dom-module id='contestify-match'>
<style include='contestify-match-style'></style>
<template>
  <!-- match Detail Ajax -->
  <iron-ajax
    id='ajaxMatchDetail'
    method='GET'
    url="/match"
    handle-as="json"
    on-response=onMatchDetailReceived
    debounce-duration="300">
  </iron-ajax>

  <!-- user detail Ajax -->
  <iron-ajax
    id='ajaxUserDetail'
    method='GET'
    url="/user"
    handle-as="json"
    on-response=onUserDetailReceived>
  </iron-ajax>
  <div class='match-item'>
    <paper-card>
    <div class='profile left'>
      <div class='avatar'>{{matchDetail.player1Id.initial}}</div>
      <div class='name'>{{matchDetail.player1Id.name}}</div>
    </div>
    <div class='rank left'>{{matchDetail.score1}}</div>
    <div id='editHolder'>
      <template is='dom-if' if='{{isAdmin}}'>
        <paper-fab class='fabEdit' id='winnerEdit' icon='create' on-tap='putScore'></paper-fab>
      </template>
    </div>
    <div class='rank right'>{{matchDetail.score2}}</div>
    <div class='profile right'>
      <div class='name'>{{matchDetail.player2Id.name}}</div>
      <div class='avatar'>{{matchDetail.player2Id.initial}}</div>
    </div>
    </paper-card>
  </div>
</template>
<script src='main.js'></script>
</dom-module>
